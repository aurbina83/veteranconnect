<div class="container">
    <div class="row">
        <div class="col col-md-9 col-md-offset-1 text-center">
            <div class="well">
                <h3>{{vm.event.title}}</h3>
            </div>
            <div class="col col-md-5 well">
                {{vm.event.name}}
            </div>
            <div class="col col-md-6 col-md-offset-1 well">
                {{vm.event.eventAddress}}
            </div>
            <div class="col col-md-12 well">
                {{vm.event.eventCreator.firstName}} {{vm.event.eventCreator.lastName}}
            </div>
            <div class="col col-md-12 well">
                {{vm.event.eventCreator.branchService}}
            </div>
            <div class="col col-md-6 well">
                {{vm.event.dateTime | date: 'MMM d y h:mma'}}
            </div>
            <div class="col col-md-6 well">
                {{vm.event.numGuests}}
            </div>
            <div class="col col-md-12 well">
                <h5>{{vm.event.description}}</h5>
            </div>
            <div class="col col-md-4 col-md-offset-4" ng-show="vm.event.attending.indexOf(vm.status._id) == -1">
                <button class="btn btn-lg btn-success" ng-click="vm.attend()">
                    Join
                </button>
            </div>
            <div class="row"ng-show="vm.event.attending.indexOf(vm.status._id) !== -1">
                <div class="col col-md-12">
                    <textarea name="" id="" cols="80" rows="4" class='form-control' ng-model="vm.comment.message" ng-show="!vm.edit"></textarea>
                </div>
                <div class="col col-md-4 col-md-offset-4" >
                    <button class="btn btn-lg btn-success" ng-show="!vm.edit" ng-click="vm.createComment()">
                        Comment
                    </button>
                    <hr>
                </div>
                <div class="row">
                    <div class="col col-md-12" ng-repeat='c in vm.event.comments'>
                        <hr>
                        <div class="col col-md-4 col-md-offset-4" ng-show="!vm.edit">
                            <h3>{{c.user.firstName}}</h3>
                            <p>{{c.message}}</p>
                        </div>
                        <div class="col col-md-12" ng-show="vm.edit">
                            <textarea name="" id="" cols="80" rows="4" class='form-control' ng-model="c.message"></textarea>
                        </div>
                        <button class="btn btn-sm btn-success" ng-click="vm.deleteComment(c)" ng-show="c.user == vm.status._id ">
                            Delete
                        </button>
                        <button class="btn btn-sm btn-success" ng-click="vm.editComment()" ng-show="c.user == vm.status._id && !vm.edit">
                            Edit
                        </button>
                        <button class="btn btn-sm btn-success" ng-click="vm.updateComment(c)" ng-show="c.user == vm.status._id && vm.edit">
                            Update
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
